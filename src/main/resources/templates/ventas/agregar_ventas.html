<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <div th:replace="~{layouts/encabezado :: encabezado}"></div>
  <body>
  	<div th:replace="~{layouts/navbar :: navbar}"></div>
    
    <main class="container" layout:fragment="contenido">
		<div class="col-12">
			<h2>Agregar Venta</h2>
			<div th:classappend="'alert-' + (${clase != null} ? ${clase} : info)" th:if="${mensaje != null}"
				th:text="${mensaje}" class="alert">
			</div>
			<form th:object="${venta}" th:action="@{/ventas/save}" method="post">
				<div class="form-group">
					<div class="form-group">
						<label for="nombre">Usuario:</label>
						<select class="form-control" aria-label="Default select example" name="cliente.id">
							<option th:each="user : ${listaUsuarios}" th:value="${user.id}" th:text="${user.id + ' - '+user.nombre}" >
						</select>
					</div>
					
					<div class="form-group">
						<label for="nombre">Nombre Producto:</label>
						<select class="form-control" aria-label="Default select example" name="producto.id">
							<option th:each="producto : ${listaProductos}" th:value="${producto.id}" th:text="${producto.id + ' - ' + producto.nombre}" >
						</select>
					</div>
					
					
					<div class="form-group">
						<label for="nombre">Cantidad</label>
						<input autocomplete="off" autofocus name="cantidad" id="cantidad"
							placeholder="Escribe la cantidad de productos" type="text" class="form-control"
							th:classappend="${#fields.hasErrors('cantidad')} ? 'is-invalid' : ''" required>
						<div class="invalid-feedback" th:errors="*{cantidad}"></div>
					</div>
					
					<div class="form-group">
						<label for="nombre">Precio</label>
						<input autocomplete="off" autofocus name="precio" id="precio"
							placeholder="Escribe el precio" type="text" class="form-control"
							th:classappend="${#fields.hasErrors('precio')} ? 'is-invalid' : ''" required>
						<div class="invalid-feedback" th:errors="*{precio}"></div>
					</div>
					
					<div class="form-group">
						<label for="nombre">Subtotal</label>
						<input autocomplete="off" autofocus name="subtotal" id="subtotal"
							placeholder="Escribe el subtotal" type="text" class="form-control"
							th:classappend="${#fields.hasErrors('subtotal')} ? 'is-invalid' : ''" required>
						<div class="invalid-feedback" th:errors="*{subtotal}"></div>
					</div>
				</div>
				
				<button class="btn btn-success" type="submit">Guardar</button>
				&nbsp;<a class="btn btn-warning" th:href="@{/productos/mostrar}">Ver todos</a>
			</form>
		</div>
	</main>
    
    <div th:replace="~{layouts/pie :: pie}"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>